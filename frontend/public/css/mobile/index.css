/**
 * ============================================================================
 * VibAura Mobile Stylesheet - Entry Point
 * ============================================================================
 *
 * This file imports all base and mobile-specific component styles.
 * It is loaded via media query in index.html for viewports (max-width: 768px).
 *
 * Mobile-specific component styling (no media queries within components).
 * All breakpoint logic handled at HTML link level.
 * ============================================================================
 */

/* Import shared variables and resets */
@import url("../base/variables.css");
@import url("../base/base.css");

/* Import skeleton/loading animations */
@import url("../base/skeleton.css");

/* Import mobile-specific component styles */
@import url("./header.css");
@import url("./content.css");
@import url("./player.css");
@import url("./navigation.css");
@import url("./fullscreen.css");
@import url("./search.css");
@import url("./library.css");
@import url("./bottom-sheet.css");
@import url("./playlist.css");


/* DISABLE CONTEXT MENU ON IMAGES FOR LONG PRESS */
img,
.card,
.card img {
  -webkit-touch-callout: none !important;
  -webkit-user-select: none !important;
  user-select: none !important;
}

/**
 * HIDE DESKTOP-ONLY ELEMENTS ON MOBILE
 */
.nav,
.library,
.custom-scrollbar,
#open-fullscreen-btn,
.scroll-btn,
.card-options-btn {
  display: none !important;
}

/**
 * Disable fixed overlays when fullscreen player is open
 */
body.fullscreen-open .player-container {
  pointer-events: none !important;
  touch-action: none !important;
}

/**
 * CRITICAL LAYOUT FIX FOR MOBILE
 * Define exact viewport space for main container.
 * Header: 65px, Nav: 50px (approx) + Player.
 */
.main {
  height: calc(100vh - 65px - 50px) !important;
  width: 100vw !important;
  position: fixed !important;
  /* Fix it in place */
  top: 65px !important;
  left: 0 !important;
  right: 0 !important;

  flex: none !important;
  display: block !important;
  padding: 0 !important;
  margin: 0 !important;
  overflow: hidden !important;
  /* Contain the scrollable area */
  z-index: 1 !important;
}

/* 
 * FIX: reset main container when header is hidden (Search/Library)
 */
body.library-page-active .main,
body.search-page-active .main,
body.playlist-view-active .main {
  top: 0 !important;
  height: calc(100vh - 50px) !important;
  /* Only Nav remains */
}