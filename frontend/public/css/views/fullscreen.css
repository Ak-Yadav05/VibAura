/*
 * ============================================================================
 * VibAura Fullscreen Player - Styling
 * ============================================================================
 *
 * Styles for the fullscreen player overlay, which slides up from the
 * bottom to cover the entire screen when activated.
 *
 * Features:
 * - Slide-up/down transition
 * - Rotating album art "disc"
 * - Large controls and progress bar
 * - Dark mode support
 * ============================================================================
 */

.fullscreen-player {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  /* Gradient background matching the main content area */
  background-image: linear-gradient(
    135deg,
    var(--color-gradient-start),
    var(--color-gradient-end)
  );
  z-index: 200; /* High z-index to cover all other content */
  display: flex;
  flex-direction: column;
  transform: translateY(100%); /* Starts off-screen (bottom) */

  /* * Prevent hidden fullscreen from blocking gestures/clicks
   * when it's closed (transformed off-screen).
   */
  pointer-events: none;
  opacity: 0;
  visibility: hidden;
  transition:
    transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), /* Easing for smooth slide */
    opacity 0.4s ease,
    visibility 0.4s ease;
}

/* Visible (open) state - class added by JS */
.fullscreen-player.open {
  transform: translateY(0); /* Slides into view */
  pointer-events: auto; /* Allow interaction only when open */
  opacity: 1;
  visibility: visible;
  transition:
    transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.4s ease;
}

/* Header (contains close button) */
.fullscreen-player-header {
  padding: 15px;
  width: 100%;
  display: flex;
  justify-content: flex-start; /* Aligns button to the left */
  align-items: center;
  position: relative;
  z-index: 201; /* Above the body */
}

/* Close Button (down arrow) */
.close-fullscreen-btn img {
  width: 32px;
  height: 32px;
  filter: brightness(0.2); /* Default dark gray */
  cursor: pointer;
  transition:
    transform 0.2s ease,
    filter 0.3s ease;
}

.close-fullscreen-btn img:hover {
  transform: scale(1.05);
  filter: brightness(0.3);
}

body.dark-theme .close-fullscreen-btn img {
  filter: brightness(0) invert(1); /* White in dark mode */
}

/* Player Body (Artwork, Info, Controls) */
.fullscreen-player-body {
  flex-grow: 1; /* Takes up remaining vertical space */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 20px;
  padding: 20px;
  position: relative;
  z-index: 200;
}

/* Album Art - Circular "disc" container */
.album-art-disc {
  width: 300px;
  height: 300px;
  border-radius: 50%; /* Circular "vinyl" shape */
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  margin-top: 0;
}

.album-art-disc img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Class added by JS when playing */
.album-art-disc.playing {
  animation: rotate 20s linear infinite;
}

/* Rotation animation */
@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Song Info (Title/Artist) & Favorite Button */
.fs-info-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 400px;
  max-width: 90vw; /* Ensures it doesn't overflow on small screens */
}

.song-details-large {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.song-details-large .song-title {
  font-size: 1.5rem;
  font-weight: bold;
  display: block;
  color: var(--color-text-primary);
}

.song-details-large .song-artist {
  font-size: 1rem;
  color: var(--color-text-secondary);
  display: block;
}

/* Progress Bar (Large) */
.progress-container-large {
  width: 400px;
  max-width: 90vw;
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.progress-bar-wrapper {
  width: 100%;
}

/* Styling for the range input */
.progress-bar-wrapper input[type="range"].progress-bar {
  width: 100%;
  height: 4px;
  margin: 0;
}

/* * Larger thumb for easier grabbing on touch/desktop
 * (Overrides default .progress-bar thumb size from player.css)
 */
.progress-bar-wrapper input[type="range"].progress-bar::-webkit-slider-thumb {
  height: 12px;
  width: 12px;
  margin-top: -4px; /* Center thumb on track */
}

.progress-bar-wrapper input[type="range"].progress-bar::-moz-range-thumb {
  height: 12px;
  width: 12px;
}

/* Time Display (0:00 / 3:30) */
.time-display-wrapper {
  width: 100%;
  display: flex;
  justify-content: space-between;
}

.time-display-wrapper .time-current,
.time-display-wrapper .time-total {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

/* Control Buttons (Large) */
.control-buttons-large {
  width: 400px;
  max-width: 90vw;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
  padding: 0;
  margin-top: -20px; /* Pulls controls closer to progress bar */
}

/* * This allows the center controls (Prev, Play, Next) to be 
 * grouped visually while maintaining space-between layout.
 */
.center-controls {
  display: contents; /* Makes the container "disappear" for layout */
}

/* Icon sizing for fullscreen controls */
.control-buttons-large .player-btn img {
  width: 35px;
  height: 35px;
  transition:
    transform 0.2s ease,
    filter 0.3s ease;
}

/* Main play/pause button is larger */
.control-buttons-large .play-pause-btn img {
  width: 50px;
  height: 50px;
}