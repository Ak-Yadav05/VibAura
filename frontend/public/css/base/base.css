/**
 * ============================================================================
 * VibAura Base Stylesheet - Global Resets & Typography
 * ============================================================================
 *
 * This file contains ONLY:
 * - Global element resets and normalization (box-sizing, margins, etc.)
 * - Typography baseline (font-family, line-height)
 * - HTML/body resets for flex layout foundation
 *
 * DESIGN SYSTEM VARIABLES: See css/base/variables.css
 * LAYOUT STRUCTURE: See css/desktop/*.css and css/mobile/*.css
 * ============================================================================
 */

/**
 * CSS CUSTOM PROPERTIES (VARIABLES)
 * Defines color palette for light mode (default)
 * Dark mode overrides are applied in the body.dark-theme selector below
 */
:root {
  /* Background colors */
  --color-gradient-start: #fff5f2;
  /* Light pinkish */
  --color-gradient-end: #fff8f5;
  /* Lighter pinkish */
  --color-background-surface: #ffffff;
  /* Main surfaces: player, header */
  --color-background-sidebar: rgba(255, 255, 255, 0.7);
  /* Semi-transparent */
  --color-background-muted: #fff1f3;
  /* Hover states, subtle backgrounds */
  --color-background-mbtd: #ffeaf0;
  /* mobile header & nav*/

  /* Border colors */
  --color-border: #fed7d7;
  /* Light pink */

  /* Text colors */
  --color-text-primary: #2d3748;
  /* Dark gray (for headlines, main text) */
  --color-text-secondary: #4a5568;
  /* Medium gray (for subtitles) */
  --color-text-muted: #718096;
  /* Light gray (for timestamps) */
  --color-text-placeholder: #a0aec0;

  /* Accent colors (brand colors) */
  --color-accent: #d53f8c;
  /* Brand pink */
  --color-accent-light: #fed7e2;
  /* Light brand pink */
  --color-accent-light-hover: #fbb6ce;

  /* Scrollbar color */
  --color-scrollbar: #d9d9d9;

  /* Breakpoint - SYNC-POINT #1 of 7 */
  --breakpoint: 768px;
}

/**
 * DARK THEME OVERRIDES
 * Applied when body has the .dark-theme class (added by JS)
 * Inverts colors for night mode viewing
*/
body.dark-theme {
  /* Background colors */
  --color-gradient-start: #1a202c;
  /* Very dark blue */
  --color-gradient-end: #2d3748;
  /* Dark blue-gray */
  --color-background-surface: #1a202c;
  --color-background-sidebar: #171923;
  /* Solid dark */
  --color-background-muted: #2d3748;
  --color-background-mbtd: #253049;
  /* mobile header & nav*/


  /* Border colors */
  --color-border: #23262c;
  /* Dark border */

  /* Text colors */
  --color-text-primary: #f7fafc;
  /* White */
  --color-text-secondary: #a0aec0;
  /* Light gray */
  --color-text-muted: #718096;
  /* Medium gray */
  --color-text-placeholder: #718096;

  /* Accent colors */
  --color-accent: #63b3ed;
  /* Brand blue */
  --color-accent-light: #2d3748;
  --color-accent-light-hover: #4a5568;
  --color-scrollbar: #5b657a;
}

/* Global Icon Button Reset for Mobile (to avoid borders/backgrounds) */
@media (max-width: 768px) {
  .action-icon-btn.sort-trigger-btn {
    background: transparent !important;
    border: none !important;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    outline: none;
    box-shadow: none;
  }
}

/* Specific fix for desktop artist page sort button if needed */
#dk-artist-sort-btn {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/**
 * GLOBAL RESETS
 * Normalize default browser styles for consistency
 */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  /* Modern box model */
  font-family: "Jost", sans-serif;
  /* Apply default font */
  color: var(--color-text-primary);
  /* Default text color from variables */
  -webkit-tap-highlight-color: transparent;
  /* Removes blue tap highlight on mobile */
}

html,
body {
  height: 100%;
  overflow: hidden;
  /* * Prevents full page scroll; 
                   * scrolling is handled by the .content container
                   */
}

/**
 * MAIN LAYOUT STRUCTURE
 * Root container for entire application
 * Uses flexbox to structure Header, Main, and Player (implicitly)
 */
.container {
  background-color: var(--color-background-surface);
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;
  z-index: 1;
  transform: translateX(0%);
  /* Used for potential slide-out menus (legacy) */
}

/**
 * MAIN CONTENT AREA
 * Houses the sidebar (.library) and page content (.content)
 * Uses the theme's gradient background
 */
.main {
  display: flex;
  flex-direction: row;
  /* Sidebar (left) + Content (right) */
  /* flex: 1 1 0%; */
  flex: 1;
  /* Fallback for flexibility */

  height: calc(100vh - 170px);
  /* CRITICAL FIX: Header(70) + Player(90) + Gap(10) = 170px */

  min-height: 0;

  background-color: var(--color-background-surface);
  overflow: hidden;
  /* CRITICAL FIX: Forces main to stay within flex bounds */
  position: relative;
  /* Supports absolute positioning of children */
}